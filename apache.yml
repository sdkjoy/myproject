---
    - name: Provision vm
      hosts: apache
      tasks:
        - name: Install python
          apt:
            update_cache: yes
            name: python3-pip
          become: yes
        - name: Install python docker sdk
          shell: |
            pip3 install docker
          become: yes
        - name: Install docker
          apt:
            name: docker.io
          become: yes
        - name: Start Docker service
          shell: |
            systemctl start docker
            systemctl enable docker
          become: yes
        - name: Download image
          shell:  docker pull httpd
          become: yes
        - name: Run image
          shell: docker run -d --name apache -p 80:80 --name apache httpd
          become: yes
